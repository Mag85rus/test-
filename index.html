<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–æ—Å—Ç–∞–≤–∫–∏</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: #f0f2f5;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 8px;
        }
        #app {
            max-width: 420px;
            width: 100%;
            background: white;
            border-radius: 24px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
            min-height: 680px;
            display: flex;
            flex-direction: column;
        }
        .header {
            background: #2A4B7C;
            color: white;
            padding: 16px 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .header h1 {
            font-size: 1.3rem;
            font-weight: 500;
            flex: 1;
        }
        .back-btn, .menu-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            font-size: 1.2rem;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background 0.2s;
        }
        .back-btn:hover, .menu-btn:hover {
            background: rgba(255,255,255,0.3);
        }
        .content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            max-height: calc(100vh - 130px);
        }
        .menu-grid {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        .menu-row {
            display: flex;
            gap: 12px;
        }
        .menu-row .menu-btn-large {
            flex: 1;
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 16px;
            padding: 20px 8px;
            font-size: 1rem;
            font-weight: 500;
            color: #2A4B7C;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .menu-row .menu-btn-large:hover {
            background: #e9ecef;
        }
        .menu-row .menu-btn-large span {
            font-size: 1.8rem;
        }
        .list-item {
            background: #f8f9fa;
            border-radius: 14px;
            padding: 14px 16px;
            margin-bottom: 10px;
            border: 1px solid #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }
        .list-item-title {
            font-weight: 500;
            color: #212529;
        }
        .list-item-sub {
            font-size: 0.85rem;
            color: #6c757d;
            margin-top: 4px;
        }
        .badge {
            background: #2A4B7C;
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
        }
        .badge-success {
            background: #28a745;
        }
        .button {
            background: #2A4B7C;
            border: none;
            color: white;
            padding: 14px;
            border-radius: 14px;
            font-size: 1rem;
            font-weight: 500;
            width: 100%;
            cursor: pointer;
            transition: background 0.2s;
            margin-top: 12px;
        }
        .button-secondary {
            background: #6c757d;
        }
        .button-outline {
            background: white;
            border: 1px solid #2A4B7C;
            color: #2A4B7C;
        }
        .form-group {
            margin-bottom: 16px;
        }
        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #495057;
        }
        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ced4da;
            border-radius: 12px;
            font-size: 1rem;
            font-family: inherit;
        }
        .checklist-item {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 8px;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
        .checklist-item .status {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            background: #f1f3f5;
            cursor: pointer;
            flex-shrink: 0;
        }
        .checklist-item .text {
            flex: 1;
            font-size: 0.9rem;
        }
        .status.ok {
            background: #d4edda;
            color: #155724;
        }
        .status.problem {
            background: #f8d7da;
            color: #721c24;
        }
        .comment-box {
            background: #f1f3f5;
            border-radius: 12px;
            padding: 12px;
            margin-top: 8px;
            font-size: 0.9rem;
        }
        .photo-grid {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin: 16px 0;
        }
        .photo-item {
            background: #f8f9fa;
            border: 1px dashed #adb5bd;
            border-radius: 12px;
            padding: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .photo-label {
            font-weight: 500;
            margin-bottom: 8px;
        }
        .photo-preview {
            width: 100%;
            max-height: 200px;
            object-fit: contain;
            border-radius: 8px;
            margin-top: 8px;
        }
        .hidden {
            display: none !important;
        }
        .text-center {
            text-align: center;
        }
        .mt-2 {
            margin-top: 8px;
        }
        .mt-4 {
            margin-top: 24px;
        }
        .flex-row {
            display: flex;
            gap: 8px;
            align-items: center;
        }
        .watermark {
            font-size: 0.8rem;
            color: #6c757d;
            margin-top: 4px;
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="header">
            <button class="back-btn" id="backBtn" style="visibility: hidden;">‚Üê</button>
            <h1 id="headerTitle">–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–æ—Å—Ç–∞–≤–∫–∏</h1>
            <button class="menu-btn" id="menuBtn">‚ò∞</button>
        </div>
        <div class="content" id="content"></div>
    </div>

    <script>
        // ---------- –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–∑ –±–æ—Ç–∞ ----------
        const RESTAURANTS = [
            "–¢.00 –¢–µ—Å—Ç–æ–≤—ã–π", "–¢.02 –ü—è—Ç–Ω–∏—Ü–∫–∞—è", "–¢.03 –©—ë–ª–∫–æ–≤—Å–∫–∞—è", "–¢.04 –ù–û–ü (–ù–∞—Ä–æ–¥–Ω–æ–≥–æ –æ–ø–æ–ª—á–µ–Ω–∏—è)",
            "–¢.05 –ü—Ä.–ú–∏—Ä–∞", "–¢.06 –í–∞—Ä—à–∞–≤–∫–∞ –¢–∞–Ω—É–∫–∏", "–¢.07 –í–∞—Ä—à–∞–≤–∫–∞ –ï—Ä—à", "–¢.08 –©–µ—Ä–±–∞–∫–æ–≤—Å–∫–∞—è",
            "–¢.09 –°–∏–º–æ–Ω–æ–≤—Å–∫–∏–π –≤–∞–ª", "–¢.10 –ê–ª—Ç—É—Ñ—å–µ–≤–æ", "–¢.11 –ì–µ–Ω–µ—Ä–∞–ª–∞ –ë–µ–ª–æ–≤–∞", "–¢.13 –í–æ—Ä–æ–Ω–µ–∂",
            "–¢.15 –®–æ—Å—Å–µ –≠–Ω—Ç—É–∑–∏–∞—Å—Ç–æ–≤", "–¢.16 –í–æ–ª–≥–æ–≥—Ä–∞–¥–∫–∞ 1 (–¥.17)", "–¢.17 –ü–µ—Ä–µ—Ä–≤–∞ –¢–∞–Ω—É–∫–∏",
            "–¢.18 –ü–µ—Ä–µ—Ä–≤–∞ –ï—Ä—à", "–¢.21 –ö–∞—à–∏—Ä—Å–∫–æ–µ —à–æ—Å—Å–µ", "–¢.22 –°–∞–º–∞—Ä–∞", "–¢.24 –ë–∞–ª–∞–∫–ª–∞–≤–∫–∞ –¢–∞–Ω—É–∫–∏",
            "–¢.28 –ë–æ—Ä–æ–≤–∫–∞ –¢–∞–Ω—É–∫–∏", "–¢.29 –ë–æ—Ä–æ–≤–∫–∞ –ï—Ä—à", "–¢.30 –®–æ–∫–∞–ª—å—Å–∫–æ–≥–æ", "–¢.33 –ú–æ–∂–∞–π—Å–∫–æ–µ —à–æ—Å—Å–µ",
            "–¢.34 –®–∞–±–æ–ª–æ–≤–∫–∞", "–¢.35 –ö–æ—à—Ç–æ—è–Ω—Ü–∞", "–¢.36 –ü—Ä–∏–≤–æ–ª—å–Ω–∞—è (–ñ—É–ª–µ–±–∏–Ω–æ)", "–¢.37 –ú–∏—Ç–∏–Ω–æ",
            "–¢.40 –°–≤–æ–±–æ–¥–∞", "–¢.41 –ú—ã—Ç–∏—â–∏", "–¢.42 –ö–æ–Ω—å–∫–æ–≤–æ (–ü—Ä–æ—Ñ—Å–æ—é–∑–Ω–∞—è)", "–¢.44 –õ—é–±–µ—Ä—Ü—ã",
            "–¢.45 –ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∫–∞", "–¢.46 –ü–∞—É—Å—Ç–æ–≤—Å–∫–æ–≥–æ (–Ø—Å–µ–Ω–µ–≤–æ)", "–¢.47 3‚Äë—è –í–ª–∞–¥–∏–º–∏—Ä—Å–∫–∞—è (–ü–µ—Ä–æ–≤–æ)",
            "–¢.48 –ù–æ–≤–æ–∫–æ—Å–∏–Ω–æ", "–¢.49 –ü–µ—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫–∞—è", "–¢.50 –î–º–∏—Ç—Ä–æ–≤–∫–∞ 1 (–¥.64)", "–¢.52 –°—É—â–µ–≤–∫–∞",
            "–¢.53 –í–æ–ª–≥–æ–≥—Ä–∞–¥–∫–∞ 2 (–¥.98)", "–¢.55 –õ–∏–ø–µ—Ü–∫–∞—è –¢–∞–Ω—É–∫–∏", "–¢.56 –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥ 2",
            "–¢.57 –õ–∏–ø–µ—Ü–∫–∞—è –ï—Ä—à", "–¢.58 –ú–æ—Å—Ñ–∏–ª—å–º", "–¢.59 –•–∏–º–∫–∏", "–¢.60 –ë.–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è",
            "–¢.61 –ó–µ–ª–µ–Ω–æ–≥—Ä–∞–¥", "–¢.62 –ö–æ—Å–º–æ–Ω–∞–≤—Ç–æ–≤ –ï—Ä—à", "–¢.63 –ö–æ—Å–º–æ–Ω–∞–≤—Ç–æ–≤ –¢–∞–Ω—É–∫–∏", "–¢.65 –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä",
            "–¢.66 –ü—Ä–∏—à–≤–∏–Ω–∞ –¢–∞–Ω—É–∫–∏", "–¢.67 –ü—Ä–∏—à–≤–∏–Ω–∞ –ï—Ä—à", "–¢.69 –ë—É—Ç–æ–≤–æ", "–¢.71 –î–º–∏—Ç—Ä–æ–≤–∫–∞ 2 (–¥.108–ë)",
            "–¢.72 –ù–∞—Ö–∏–º–æ–≤—Å–∫–∏–π –ø—Ä‚Äë—Ç", "–¢.73 –ù.–ù–æ–≤–≥–æ—Ä–æ–¥", "–¢.74 –£—Ñ–∞", "–¢.75 –†–µ—É—Ç–æ–≤",
            "–¢.76 –ë–æ—Ä–∏—Å–æ–≤—Å–∫–∏–µ –ø—Ä—É–¥—ã", "–¢.77 –ö—Ä–∞—Å–Ω–æ–≥–æ—Ä—Å–∫", "–¢.78 –†—è–∑–∞–Ω—Å–∫–∏–π –ø—Ä‚Äë—Ç", "–¢.79 –û–¥–∏–Ω—Ü–æ–≤–æ",
            "–¢.80 –ü–æ–¥–æ–ª—å—Å–∫", "–¢.81 –ö—É—Ä–∫–∏–Ω–æ", "–¢.82 –ö—É–Ω—Ü–µ–≤–æ", "–¢.83 –ë.–ó–ª–∞—Ç–æ—É—Å—Ç–∏–Ω—Å–∫–∏–π (–õ—É–±—è–Ω–∫–∞)",
            "–¢.85 –Ø—Ä–æ—Å–ª–∞–≤–∫–∞", "–¢.86 –ê–ª–º–∞—Ç—ã –î–æ—Å—Ç—ã–∫", "–¢.87 –û—Å–µ–Ω–Ω–∏–π –±—É–ª—å–≤–∞—Ä", "–¢.88 –ß–µ—Ä—Ç–∞–Ω–æ–≤—Å–∫–∞—è",
            "–¢.89 –î–æ–ª–≥–æ–ø—Ä—É–¥–Ω—ã–π", "–¢.90 –ö–æ—Ä–æ–ª—ë–≤", "–¢.91 –¶–≤–µ—Ç–Ω–æ–π –±—É–ª—å–≤–∞—Ä", "–¢.92 –ë–∞–ª–∞—à–∏—Ö–∞",
            "–¢.93 –ö–∞–∑–∞–Ω—å", "–¢.94 –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä 2", "–¢.95 –ú–µ—Ç—Ä–æ–ø–æ–ª–∏—Å", "–¢.96 –ö—Ä–∞—Å–Ω–∞—è –ü—Ä–µ—Å–Ω—è",
            "–¢.97 –ú–æ—Å–∫–≤–∞‚Äë–°–∏—Ç–∏", "–¢.100 –ó–µ–º–ª—è–Ω–æ–π –≤–∞–ª", "–¢.101 –ë.–Ø–∫–∏–º–∞–Ω–∫–∞", "–¢.102 –°—Ç—Ä–æ–≥–∏–Ω–æ",
            "–¢.103 –ê–ª–º–∞—Ç—ã –†–æ–∑—ã–±–∞–∫–∏–µ–≤–∞", "–¢.104 –ê—Å—Ç–∞–Ω–∞ –ú–∞–Ω–≥–∏–ª–∏–∫ –ï–ª", "–¢.105 –ö–∞–∑–∞–Ω—å –ö–∞—Å–ø–∏–π–∫–∞",
            "–¢.107 –ë–æ–≥–¥–∞–Ω–æ–≤–∞ –ö–∞—Å–ø–∏–π–∫–∞", "–¢.108 –ë–æ–≥–¥–∞–Ω–æ–≤–∞ (–°–æ–ª–Ω—Ü–µ–≤–æ)", "–¢.109 –¢–∞—à–∫–µ–Ω—Ç –¢–∞—Ä–∞—Å–∞ –®–µ–≤—á–µ–Ω–∫–æ",
            "–¢.110 –ê–ª–º–∞—Ç—ã –®–µ–≤—á–µ–Ω–∫–æ", "–¢.114 –¢–∞—à–∫–µ–Ω—Ç —Å–∏—Ç–∏ –º–æ–ª–ª", "–¢.115 –î–æ–º–æ–¥–µ–¥–æ–≤–æ",
            "–¢.117 –ê–ª–º–∞—Ç—ã –°–∞—Ç–ø–∞–µ–≤–∞", "–¢.118 –ê–ª–º–∞—Ç—ã –°–µ–π—Ñ—É–ª–∏–Ω–∞", "–¢.119 –ê—Å—Ç–∞–Ω–∞ –¢—É—Ä–∞–Ω",
            "–¢.123 –©–µ–ª–∫–æ–≤–æ", "–¢.124 –°–æ–ª–Ω–µ—á–Ω–æ–≥–æ—Ä—Å–∫", "–ö.105 –ö–∞–∑–∞–Ω—å –ö–∞—Å–ø–∏–π–∫–∞", "–ö.107 –ë–æ–≥–¥–∞–Ω–æ–≤–∞ –ö–∞—Å–ø–∏–π–∫–∞",
            "–ö.116 –¢–∞—à–∫–µ–Ω—Ç —Å–∏—Ç–∏ –º–æ–ª–ª", "–ö.121 –¢–∞—à–∫–µ–Ω—Ç –¢–∞—Ä–∞—Å–∞ –®–µ–≤—á–µ–Ω–∫–æ", "–í.120 –ê–ª–º–∞—Ç—ã –°–µ–π—Ñ—É–ª–∏–Ω–∞",
            "–í.122 –ê—Å—Ç–∞–Ω–∞"
        ];

        // –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –∏–∑ vehicles.xlsx
        const VEHICLES_DATA = [
            { model: "Renault Sandero", plate: "–ê463–£–ê799", restaurant: "–¢.17 –ü–µ—Ä–µ—Ä–≤–∞ –¢–∞–Ω—É–∫–∏" },
            { model: "Renault Sandero", plate: "–ï332–û–ê799", restaurant: "–¢.17 –ü–µ—Ä–µ—Ä–≤–∞ –¢–∞–Ω—É–∫–∏" },
            { model: "Renault Sandero", plate: "–ö631–ú–¢799", restaurant: "–¢.17 –ü–µ—Ä–µ—Ä–≤–∞ –¢–∞–Ω—É–∫–∏" },
            { model: "Renault Sandero", plate: "–ö640–ú–¢799", restaurant: "–¢.17 –ü–µ—Ä–µ—Ä–≤–∞ –¢–∞–Ω—É–∫–∏" },
            { model: "Renault Sandero", plate: "–û304–û–ö799", restaurant: "–¢.17 –ü–µ—Ä–µ—Ä–≤–∞ –¢–∞–Ω—É–∫–∏" },
            { model: "Renault Sandero", plate: "–û311–û–ö799", restaurant: "–¢.17 –ü–µ—Ä–µ—Ä–≤–∞ –¢–∞–Ω—É–∫–∏" },
            { model: "Renault Sandero", plate: "–¢483–¢–°799", restaurant: "–¢.17 –ü–µ—Ä–µ—Ä–≤–∞ –¢–∞–Ω—É–∫–∏" },
            { model: "–≠–ª–µ–∫—Ç—Ä–æ–≤–µ–ª–æ—Å–∏–ø–µ–¥", plate: "–ê–ê031–û", restaurant: "–¢.37 –ú–∏—Ç–∏–Ω–æ" },
            { model: "–≠–ª–µ–∫—Ç—Ä–æ–≤–µ–ª–æ—Å–∏–ø–µ–¥", plate: "–ê–ê032–û", restaurant: "–¢.37 –ú–∏—Ç–∏–Ω–æ" },
            { model: "–≠–ª–µ–∫—Ç—Ä–æ–≤–µ–ª–æ—Å–∏–ø–µ–¥", plate: "–ê–ê077–û", restaurant: "–¢.37 –ú–∏—Ç–∏–Ω–æ" },
            { model: "–≠–ª–µ–∫—Ç—Ä–æ–≤–µ–ª–æ—Å–∏–ø–µ–¥", plate: "–ê–ê088–û", restaurant: "–¢.37 –ú–∏—Ç–∏–Ω–æ" },
            { model: "Renault Sandero", plate: "–ö534–ú–¢799", restaurant: "–¢.37 –ú–∏—Ç–∏–Ω–æ" },
            { model: "Renault Sandero", plate: "–ù202–£–¢799", restaurant: "–¢.37 –ú–∏—Ç–∏–Ω–æ" },
            { model: "Renault Sandero", plate: "–ù839–ö–¢799", restaurant: "–¢.37 –ú–∏—Ç–∏–Ω–æ" },
            { model: "Ravon R2", plate: "–û615–ê–¢799", restaurant: "–¢.37 –ú–∏—Ç–∏–Ω–æ" },
            { model: "Lada Granta", plate: "–†236–ö–†977", restaurant: "–¢.37 –ú–∏—Ç–∏–Ω–æ" },
            { model: "Lada Granta", plate: "–†334–ö–¢977", restaurant: "–¢.37 –ú–∏—Ç–∏–Ω–æ" },
            { model: "Lada Granta", plate: "–†340–ö–†977", restaurant: "–¢.37 –ú–∏—Ç–∏–Ω–æ" },
            { model: "Lada Granta", plate: "–¢304–ö–ú977", restaurant: "–¢.37 –ú–∏—Ç–∏–Ω–æ" },
            { model: "Lada Granta", plate: "–¢346–ö–ú977", restaurant: "–¢.37 –ú–∏—Ç–∏–Ω–æ" },
            { model: "Lada Granta", plate: "–¢382–ö–ú977", restaurant: "–¢.37 –ú–∏—Ç–∏–Ω–æ" },
            { model: "Ravon R2", plate: "–¢889–£–†777", restaurant: "–¢.37 –ú–∏—Ç–∏–Ω–æ" },
            { model: "Ravon R2", plate: "–£743–£–ö777", restaurant: "–¢.37 –ú–∏—Ç–∏–Ω–æ" },
            { model: "–°–∫—É—Ç–µ—Ä", plate: "–Ω–µ—Ç –Ω–æ–º–µ—Ä–∞", restaurant: "–¢.37 –ú–∏—Ç–∏–Ω–æ" },
            { model: "–í–µ–ª–æ—Å–∏–ø–µ–¥", plate: "–Ω–µ—Ç –Ω–æ–º–µ—Ä–∞", restaurant: "–¢.81 –ö—É—Ä–∫–∏–Ω–æ" },
            { model: "Renault Sandero", plate: "–ö211–¢–ú799", restaurant: "–¢.81 –ö—É—Ä–∫–∏–Ω–æ" },
            { model: "Renault Sandero", plate: "–ö450–¢–ú799", restaurant: "–¢.81 –ö—É—Ä–∫–∏–Ω–æ" },
            { model: "Ravon R2", plate: "–ù876–£–ö777", restaurant: "–¢.81 –ö—É—Ä–∫–∏–Ω–æ" },
            { model: "Lada Granta", plate: "–†338–ö–†977", restaurant: "–¢.81 –ö—É—Ä–∫–∏–Ω–æ" },
            { model: "Renault Sandero", plate: "–†368–ù–¢799", restaurant: "–¢.81 –ö—É—Ä–∫–∏–Ω–æ" },
            { model: "Renault Sandero", plate: "–†398–ù–¢799", restaurant: "–¢.81 –ö—É—Ä–∫–∏–Ω–æ" },
            { model: "Renault Sandero", plate: "–¢662–¢–ê799", restaurant: "–¢.81 –ö—É—Ä–∫–∏–Ω–æ" },
            { model: "Ravon R2", plate: "–¢945–£–†777", restaurant: "–¢.81 –ö—É—Ä–∫–∏–Ω–æ" },
            { model: "–≠–ª–µ–∫—Ç—Ä–æ–≤–µ–ª–æ—Å–∏–ø–µ–¥", plate: "–Ω–µ—Ç –Ω–æ–º–µ—Ä–∞", restaurant: "–¢.81 –ö—É—Ä–∫–∏–Ω–æ" },
            { model: "Renault Sandero", plate: "–ê434–£–ê799", restaurant: "–¢.61 –ó–µ–ª–µ–Ω–æ–≥—Ä–∞–¥" },
            { model: "Renault Sandero", plate: "–ö628–ú–¢799", restaurant: "–¢.61 –ó–µ–ª–µ–Ω–æ–≥—Ä–∞–¥" },
            { model: "Renault Sandero", plate: "–ö687–ú–•799", restaurant: "–¢.61 –ó–µ–ª–µ–Ω–æ–≥—Ä–∞–¥" },
            { model: "Renault Sandero", plate: "–ö908–†–û799", restaurant: "–¢.61 –ó–µ–ª–µ–Ω–æ–≥—Ä–∞–¥" },
            { model: "Ravon R2", plate: "–ù883–£–ö777", restaurant: "–¢.61 –ó–µ–ª–µ–Ω–æ–≥—Ä–∞–¥" },
            { model: "Ravon R2", plate: "–û818–ê–¢799", restaurant: "–¢.61 –ó–µ–ª–µ–Ω–æ–≥—Ä–∞–¥" },
            { model: "Renault Sandero", plate: "–¢923–°–ê799", restaurant: "–¢.61 –ó–µ–ª–µ–Ω–æ–≥—Ä–∞–¥" },
            { model: "–í–µ–ª–æ—Å–∏–ø–µ–¥", plate: "–Ω–µ—Ç –Ω–æ–º–µ—Ä–∞", restaurant: "–¢.61 –ó–µ–ª–µ–Ω–æ–≥—Ä–∞–¥" },
            { model: "–í–µ–ª–æ—Å–∏–ø–µ–¥", plate: "–Ω–µ—Ç –Ω–æ–º–µ—Ä–∞", restaurant: "–¢.61 –ó–µ–ª–µ–Ω–æ–≥—Ä–∞–¥" },
            { model: "–í–µ–ª–æ—Å–∏–ø–µ–¥", plate: "–Ω–µ—Ç –Ω–æ–º–µ—Ä–∞", restaurant: "–¢.61 –ó–µ–ª–µ–Ω–æ–≥—Ä–∞–¥" },
            { model: "Lada Granta", plate: "–ï837–ö–¢977", restaurant: "–¢.40 –°–≤–æ–±–æ–¥–∞" },
            { model: "Renault Sandero", plate: "–ö669–ú–•799", restaurant: "–¢.40 –°–≤–æ–±–æ–¥–∞" },
            { model: "Lada Granta", plate: "–ú232–ö–¢977", restaurant: "–¢.40 –°–≤–æ–±–æ–¥–∞" },
            { model: "Renault Sandero", plate: "–ù812–ö–¢799", restaurant: "–¢.40 –°–≤–æ–±–æ–¥–∞" },
            { model: "Lada Granta", plate: "–¢196–ö–ú977", restaurant: "–¢.40 –°–≤–æ–±–æ–¥–∞" },
            { model: "Renault Sandero", plate: "–ï414–ú–ï799", restaurant: "–¢.59 –•–∏–º–∫–∏" },
            { model: "Renault Sandero", plate: "–ö580–ú–•799", restaurant: "–¢.59 –•–∏–º–∫–∏" },
            { model: "Renault Sandero", plate: "–û297–û–ö799", restaurant: "–¢.59 –•–∏–º–∫–∏" },
            { model: "Lada Granta", plate: "–†093–ö–†977", restaurant: "–¢.59 –•–∏–º–∫–∏" },
            { model: "Lada Granta", plate: "–†314–ö–†977", restaurant: "–¢.59 –•–∏–º–∫–∏" },
            { model: "Lada Granta", plate: "–†353–ö–†977", restaurant: "–¢.59 –•–∏–º–∫–∏" },
            { model: "Renault Sandero", plate: "–†384–ù–¢799", restaurant: "–¢.59 –•–∏–º–∫–∏" },
            { model: "Renault Sandero", plate: "–†397–ù–¢799", restaurant: "–¢.59 –•–∏–º–∫–∏" },
            { model: "Ravon R2", plate: "–†668–°–¢777", restaurant: "–¢.59 –•–∏–º–∫–∏" },
            { model: "Renault Sandero", plate: "–¢426–¢–°799", restaurant: "–¢.59 –•–∏–º–∫–∏" },
            { model: "–≠–ª–µ–∫—Ç—Ä–æ–≤–µ–ª–æ—Å–∏–ø–µ–¥", plate: "–ê–ê–û830", restaurant: "–¢.77 –ö—Ä–∞—Å–Ω–æ–≥–æ—Ä—Å–∫" },
            { model: "Renault Sandero", plate: "–ö925–†–û799", restaurant: "–¢.77 –ö—Ä–∞—Å–Ω–æ–≥–æ—Ä—Å–∫" },
            { model: "Renault Sandero", plate: "–ù317–£–¢799", restaurant: "–¢.77 –ö—Ä–∞—Å–Ω–æ–≥–æ—Ä—Å–∫" },
            { model: "Ravon R2", plate: "–†782–ù–ï797", restaurant: "–¢.77 –ö—Ä–∞—Å–Ω–æ–≥–æ—Ä—Å–∫" },
            { model: "Ravon R2", plate: "–†978–í–ê799", restaurant: "–¢.77 –ö—Ä–∞—Å–Ω–æ–≥–æ—Ä—Å–∫" },
            { model: "Lada Granta", plate: "–¢385–ö–ú977", restaurant: "–¢.77 –ö—Ä–∞—Å–Ω–æ–≥–æ—Ä—Å–∫" },
            { model: "Lada Granta", plate: "–¢393–ö–ú977", restaurant: "–¢.77 –ö—Ä–∞—Å–Ω–æ–≥–æ—Ä—Å–∫" },
            { model: "Renault Sandero", plate: "–¢625–¢–ê799", restaurant: "–¢.77 –ö—Ä–∞—Å–Ω–æ–≥–æ—Ä—Å–∫" },
            { model: "Renault Sandero", plate: "–¢944–¢–ê799", restaurant: "–¢.77 –ö—Ä–∞—Å–Ω–æ–≥–æ—Ä—Å–∫" },
            { model: "Renault Sandero", plate: "–¢946–¢–ê799", restaurant: "–¢.77 –ö—Ä–∞—Å–Ω–æ–≥–æ—Ä—Å–∫" },
            { model: "–≠–ª–µ–∫—Ç—Ä–æ–≤–µ–ª–æ—Å–∏–ø–µ–¥", plate: "–ê–ê–û330", restaurant: "–¢.74 –£—Ñ–∞" },
            { model: "–≠–ª–µ–∫—Ç—Ä–æ–≤–µ–ª–æ—Å–∏–ø–µ–¥", plate: "–ê–ê–û340", restaurant: "–¢.74 –£—Ñ–∞" },
            { model: "–≠–ª–µ–∫—Ç—Ä–æ–≤–µ–ª–æ—Å–∏–ø–µ–¥", plate: "–ê–ê–û350", restaurant: "–¢.74 –£—Ñ–∞" },
            { model: "–≠–ª–µ–∫—Ç—Ä–æ–≤–µ–ª–æ—Å–∏–ø–µ–¥", plate: "–ê–ê–û360", restaurant: "–¢.00 –¢–µ—Å—Ç–æ–≤—ã–π" },
            { model: "Renault Sandero", plate: "–ú788–ö–ö799", restaurant: "–¢.102 –°—Ç—Ä–æ–≥–∏–Ω–æ" },
            { model: "Renault Sandero", plate: "–ú811–ö–ö799", restaurant: "–¢.102 –°—Ç—Ä–æ–≥–∏–Ω–æ" },
            { model: "Lada Granta", plate: "–†166–ö–†977", restaurant: "–¢.102 –°—Ç—Ä–æ–≥–∏–Ω–æ" },
            { model: "Lada Granta", plate: "–†303–ö–†977", restaurant: "–¢.102 –°—Ç—Ä–æ–≥–∏–Ω–æ" },
            { model: "–≠–ª–µ–∫—Ç—Ä–æ–≤–µ–ª–æ—Å–∏–ø–µ–¥", plate: "–ê–ê–û760", restaurant: "–¢.95 –ú–µ—Ç—Ä–æ–ø–æ–ª–∏—Å" },
            { model: "–≠–ª–µ–∫—Ç—Ä–æ–≤–µ–ª–æ—Å–∏–ø–µ–¥", plate: "–ê–ê–û820", restaurant: "–¢.95 –ú–µ—Ç—Ä–æ–ø–æ–ª–∏—Å" },
            { model: "Renault Sandero", plate: "–ö043–¢–ú799", restaurant: "–¢.95 –ú–µ—Ç—Ä–æ–ø–æ–ª–∏—Å" },
            { model: "Renault Sandero", plate: "–ö409–¢–ú799", restaurant: "–¢.95 –ú–µ—Ç—Ä–æ–ø–æ–ª–∏—Å" },
            { model: "Lada Granta", plate: "–†227–ö–†977", restaurant: "–¢.95 –ú–µ—Ç—Ä–æ–ø–æ–ª–∏—Å" },
            { model: "Lada Granta", plate: "–†300–ö–†977", restaurant: "–¢.95 –ú–µ—Ç—Ä–æ–ø–æ–ª–∏—Å" },
            { model: "–≠–ª–µ–∫—Ç—Ä–æ–≤–µ–ª–æ—Å–∏–ø–µ–¥", plate: "–ê–ê–û 410", restaurant: "–¢.85 –Ø—Ä–æ—Å–ª–∞–≤–∫–∞" },
            { model: "–≠–ª–µ–∫—Ç—Ä–æ–≤–µ–ª–æ—Å–∏–ø–µ–¥", plate: "–ê–ê–û 420", restaurant: "–¢.85 –Ø—Ä–æ—Å–ª–∞–≤–∫–∞" },
            { model: "Lada Granta", plate: "–†237–ö–†977", restaurant: "–¢.85 –Ø—Ä–æ—Å–ª–∞–≤–∫–∞" },
            { model: "Lada Granta", plate: "–†308–ö–†977", restaurant: "–¢.85 –Ø—Ä–æ—Å–ª–∞–≤–∫–∞" },
            { model: "Ravon R2", plate: "–†565–í–ê799", restaurant: "–¢.85 –Ø—Ä–æ—Å–ª–∞–≤–∫–∞" },
            { model: "Ravon R2", plate: "–†579–í–ê799", restaurant: "–¢.85 –Ø—Ä–æ—Å–ª–∞–≤–∫–∞" },
            { model: "Lada Granta", plate: "–Ω–µ—Ç –Ω–æ–º–µ—Ä–∞", restaurant: "–¢.124 –°–æ–ª–Ω–µ—á–Ω–æ–≥–æ—Ä—Å–∫" },
            { model: "Lada Granta", plate: "–Ω–µ—Ç –Ω–æ–º–µ—Ä–∞", restaurant: "–¢.124 –°–æ–ª–Ω–µ—á–Ω–æ–≥–æ—Ä—Å–∫" }
        ];

        // –ü—É–Ω–∫—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –¢–° (17)
        const CHECK_POINTS = [
            "–°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–ª–µ–Ω–∫–∏/–ª–∞–∫–æ–∫—Ä–∞—Å–æ—á–Ω–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è",
            "–°–æ—Å—Ç–æ—è–Ω–∏–µ –±—Ä–µ–Ω–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞–∫–ª–µ–µ–∫",
            "–°–æ—Å—Ç–æ—è–Ω–∏–µ —à–∏–Ω –∏ –∏—Ö –∏–∑–Ω–æ—Å–∞ (—à–∏–Ω—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏)",
            "–°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–ª–µ—Å–Ω—ã—Ö –¥–∏—Å–∫–æ–≤",
            "–°–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Å–≤–µ—Ç–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–±–æ—Ä–æ–≤ (–≥–∞–±–∞—Ä–∏—Ç–Ω—ã–µ –æ–≥–Ω–∏, –±–ª–∏–∂–Ω–∏–π/–¥–∞–ª—å–Ω–∏–π —Å–≤–µ—Ç, —É–∫–∞–∑–∞—Ç–µ–ª–∏ –ø–æ–≤–æ—Ä–æ—Ç–∞, —Å—Ç–æ–ø —Å–∏–≥–Ω–∞–ª—ã, —Å–∏–≥–Ω–∞–ª—ã –∞–≤–∞—Ä–∏–π–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏)",
            "–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç–µ–∫–ª–∞ –∏ –∑–µ—Ä–∫–∞–ª",
            "–ß–∏—Å—Ç–æ—Ç–∞ –∫—É–∑–æ–≤–∞",
            "–ß–∏—Å—Ç–æ—Ç–∞ —Å–∞–ª–æ–Ω–∞",
            "–¢–µ—Ä–º–æ—Å—É–º–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç",
            "–ß–∏—Å—Ç–æ—Ç–∞ –±–∞–≥–∞–∂–Ω–∏–∫–∞",
            "–ù–∞–ª–∏—á–∏–µ –Ω–∞–±–æ—Ä–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏—Å—Ç–∞ (–∞–ø—Ç–µ—á–∫–∞ —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º —Å—Ä–æ–∫–æ–º –≥–æ–¥–Ω–æ—Å—Ç–∏, –æ–≥–Ω–µ—Ç—É—à–∏—Ç–µ–ª—å —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –¥–∞—Ç—á–∏–∫–æ–º –¥–∞–≤–ª–µ–Ω–∏—è, –∑–Ω–∞–∫ –∞–≤–∞—Ä–∏–π–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏)",
            "–°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–ø–∞—Å–Ω–æ–≥–æ –∫–æ–ª–µ—Å–∞",
            "–ù–∞–ª–∏—á–∏–µ –¥–æ–º–∫—Ä–∞—Ç–∞",
            "–£—Ä–æ–≤–µ–Ω—å –º–∞—Å–ª–∞ –≤ –¥–≤–∏–≥–∞—Ç–µ–ª–µ",
            "–£—Ä–æ–≤–µ–Ω—å –æ—Ö–ª–∞–∂–¥–∞—é—â–µ–π –∂–∏–¥–∫–æ—Å—Ç–∏",
            "–£—Ä–æ–≤–µ–Ω—å —Ç–æ—Ä–º–æ–∑–Ω–æ–π –∂–∏–¥–∫–æ—Å—Ç–∏",
            "–î–≤–∏–≥–∞—Ç–µ–ª—å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–∞, –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∑–≤—É–∫–∏ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏"
        ];

        // –ë–ª–æ–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ (11)
        const DELIVERY_BLOCKS = [
            { name: "–°–∞–Ω–∏—Ç–∞—Ä–Ω–æ-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–º–µ—â–µ–Ω–∏—è, –æ—Å–≤–µ—â–µ–Ω–∏–µ", points: 6 },
            { name: "–£–ø–∞–∫–æ–≤–∫–∞", points: 3 },
            { name: "–¢–µ—Ä–º–æ—Å—É–º–∫–∏", points: 4 },
            { name: "–£—Å–ª–æ–≤–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—É—Å–æ–≤/—Ç–æ–ø–ø–∏–Ω–≥–æ–≤, –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞", points: 3 },
            { name: "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ", points: 4 },
            { name: "–ë–ª—é–¥–∞/–ù–∞–ø–∏—Ç–∫–∏", points: 3 },
            { name: "–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏", points: 5 },
            { name: "–ö—É—Ä—å–µ—Ä—ã", points: 2 },
            { name: "–î–æ–∫—É–º–µ–Ω—Ç—ã –¢–°", points: 1 },
            { name: "ITSM, –Ø–Ω–¥–µ–∫—Å –∑–∞–ø—Ä–∞–≤–∫–∏, 1–° –∞–≤—Ç–æ", points: 3 },
            { name: "–°—Ç–æ–ø-–ª–∏—Å—Ç, —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã", points: 2 }
        ];

        // ---------- –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ----------
        let currentUser = null;                // –æ–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        let currentScreen = 'mainMenu';        // —Ç–µ–∫—É—â–∏–π —ç–∫—Ä–∞–Ω
        let currentVehicle = null;             // –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –¢–° –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
        let vehiclePhotos = [null, null, null, null, null, null]; // 6 —Ñ–æ—Ç–æ (dataURL)
        let vehicleChecklist = {};              // { index: 'ok'/'problem' }
        let problemComments = {};                // { index: '—Ç–µ–∫—Å—Ç' }
        let problemPhotos = {};                  // { index: dataURL }
        let currentProblemIndex = null;          // –¥–ª—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –≤–≤–æ–¥–∞
        let deliveryBlocksDone = [];              // –Ω–∞–∑–≤–∞–Ω–∏—è –±–ª–æ–∫–æ–≤, –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –≤ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏
        let currentDeliveryBlockIndex = null;     // –∏–Ω–¥–µ–∫—Å –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –±–ª–æ–∫–∞
        let currentDeliveryPoint = 0;              // —Ç–µ–∫—É—â–∏–π –ø—É–Ω–∫—Ç –≤ –±–ª–æ–∫–µ

        // ---------- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ----------
        function loadUser() {
            const user = localStorage.getItem('currentUser');
            if (user) {
                currentUser = JSON.parse(user);
            } else {
                currentUser = null;
            }
        }

        function saveUser(user) {
            localStorage.setItem('currentUser', JSON.stringify(user));
            currentUser = user;
        }

        function logout() {
            localStorage.removeItem('currentUser');
            currentUser = null;
            navigate('mainMenu');
        }

        // –ü–æ–ª—É—á–∏—Ç—å –¢–° –¥–ª—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function getVehiclesForRestaurant() {
            if (!currentUser) return [];
            return VEHICLES_DATA.filter(v => v.restaurant === currentUser.restaurant);
        }

        // –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —Å–µ–≥–æ–¥–Ω—è –¢–° (–∏–∑ localStorage)
        function getCheckedVehiclesToday() {
            if (!currentUser) return [];
            const key = `checked_${currentUser.restaurant}_${new Date().toLocaleDateString('ru-RU')}`;
            return JSON.parse(localStorage.getItem(key) || '[]');
        }

        // –û—Ç–º–µ—Ç–∏—Ç—å –¢–° –∫–∞–∫ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–æ–µ —Å–µ–≥–æ–¥–Ω—è
        function markVehicleChecked(plate) {
            const key = `checked_${currentUser.restaurant}_${new Date().toLocaleDateString('ru-RU')}`;
            const checked = getCheckedVehiclesToday();
            if (!checked.includes(plate)) {
                checked.push(plate);
                localStorage.setItem(key, JSON.stringify(checked));
            }
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞, –≤—Å–µ –ª–∏ –¢–° –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã —Å–µ–≥–æ–¥–Ω—è
        function allVehiclesChecked() {
            const vehicles = getVehiclesForRestaurant();
            const checked = getCheckedVehiclesToday();
            return vehicles.length > 0 && vehicles.every(v => checked.includes(v.plate));
        }

        // –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ —Å–µ–≥–æ–¥–Ω—è
        function getCheckedDeliveryBlocks() {
            if (!currentUser) return [];
            const key = `delivery_${currentUser.restaurant}_${new Date().toLocaleDateString('ru-RU')}`;
            return JSON.parse(localStorage.getItem(key) || '[]');
        }

        // –û—Ç–º–µ—Ç–∏—Ç—å –±–ª–æ–∫ –∫–∞–∫ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π
        function markDeliveryBlockChecked(blockName) {
            const key = `delivery_${currentUser.restaurant}_${new Date().toLocaleDateString('ru-RU')}`;
            const checked = getCheckedDeliveryBlocks();
            if (!checked.includes(blockName)) {
                checked.push(blockName);
                localStorage.setItem(key, JSON.stringify(checked));
            }
        }

        // –í—Å–µ –±–ª–æ–∫–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã?
        function allDeliveryBlocksChecked() {
            const checked = getCheckedDeliveryBlocks();
            return DELIVERY_BLOCKS.every(b => checked.includes(b.name));
        }

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è
        function navigate(screen, param = null) {
            currentScreen = screen;
            render(param);
        }

        // ---------- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ ----------
        function render(param) {
            const content = document.getElementById('content');
            const headerTitle = document.getElementById('headerTitle');
            const backBtn = document.getElementById('backBtn');
            const menuBtn = document.getElementById('menuBtn');

            // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç—å—é –∫–Ω–æ–ø–∫–∏ –Ω–∞–∑–∞–¥
            if (currentScreen === 'mainMenu' || currentScreen === 'register') {
                backBtn.style.visibility = 'hidden';
            } else {
                backBtn.style.visibility = 'visible';
            }

            if (!currentUser && currentScreen !== 'register' && currentScreen !== 'mainMenu') {
                navigate('register');
                return;
            }

            switch (currentScreen) {
                case 'mainMenu':
                    headerTitle.innerText = '–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é';
                    renderMainMenu(content);
                    break;
                case 'register':
                    headerTitle.innerText = '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è';
                    renderRegister(content);
                    break;
                case 'restaurantOpen':
                    headerTitle.innerText = '–û—Ç–∫—Ä—ã—Ç–∏–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞';
                    renderRestaurantOpen(content);
                    break;
                case 'vehicleList':
                    headerTitle.innerText = '–ü—Ä–æ–≤–µ—Ä–∫–∞ –¢–°';
                    renderVehicleList(content);
                    break;
                case 'vehiclePhotos':
                    headerTitle.innerText = '–§–æ—Ç–æ –¢–°';
                    renderVehiclePhotos(content);
                    break;
                case 'vehicleChecklist':
                    headerTitle.innerText = '–ß–µ–∫-–ª–∏—Å—Ç –¢–°';
                    renderVehicleChecklist(content);
                    break;
                case 'vehicleProblemComment':
                    headerTitle.innerText = '–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –ø—Ä–æ–±–ª–µ–º–µ';
                    renderProblemComment(content, param);
                    break;
                case 'vehicleProblemPhoto':
                    headerTitle.innerText = '–§–æ—Ç–æ –ø—Ä–æ–±–ª–µ–º—ã';
                    renderProblemPhoto(content, param);
                    break;
                case 'deliveryBlocks':
                    headerTitle.innerText = '–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∏';
                    renderDeliveryBlocks(content);
                    break;
                case 'deliveryBlockDetail':
                    headerTitle.innerText = '–ë–ª–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏';
                    renderDeliveryBlockDetail(content, param);
                    break;
                case 'deliveryComment':
                    headerTitle.innerText = '–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π';
                    renderDeliveryComment(content, param);
                    break;
                case 'knowledgeBase':
                    headerTitle.innerText = '–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π';
                    renderKnowledgeBase(content);
                    break;
                case 'profile':
                    headerTitle.innerText = '–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å';
                    renderProfile(content);
                    break;
                case 'support':
                    headerTitle.innerText = '–ü–æ–¥–¥–µ—Ä–∂–∫–∞';
                    renderSupport(content);
                    break;
                case 'adminPanel':
                    headerTitle.innerText = '–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å';
                    renderAdminPanel(content);
                    break;
                default:
                    renderMainMenu(content);
            }
        }

        // ---------- –≠–∫—Ä–∞–Ω: –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ----------
        function renderMainMenu(container) {
            if (!currentUser) {
                container.innerHTML = `
                    <div class="text-center">
                        <p style="margin-bottom: 20px;">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –î–ª—è —Ä–∞–±–æ—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è.</p>
                        <button class="button" onclick="navigate('register')">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                    </div>
                `;
                return;
            }
            let html = `
                <div class="menu-grid">
                    <div class="menu-row">
                        <div class="menu-btn-large" onclick="navigate('restaurantOpen')">
                            <span>üèòÔ∏è</span> –û—Ç–∫—Ä—ã—Ç–∏–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞
                        </div>
                        <div class="menu-btn-large" onclick="navigate('knowledgeBase')">
                            <span>üìö</span> –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π
                        </div>
                    </div>
                    <div class="menu-row">
                        <div class="menu-btn-large" onclick="navigate('profile')">
                            <span>üë§</span> –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å
                        </div>
                        <div class="menu-btn-large" onclick="navigate('support')">
                            <span>üÜò</span> –ü–æ–¥–¥–µ—Ä–∂–∫–∞
                        </div>
                    </div>
                </div>
            `;
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–¥–ª—è –¥–µ–º–æ: –µ—Å–ª–∏ –§–ò–û —Å–æ–¥–µ—Ä–∂–∏—Ç "–ê–¥–º–∏–Ω" –∏–ª–∏ ID=517383463)
            if (currentUser.fullName.includes('–ê–¥–º–∏–Ω') || currentUser.userId === 517383463) {
                html += `
                    <div class="menu-row" style="margin-top: 12px;">
                        <div class="menu-btn-large" style="background:#e7f1ff;" onclick="navigate('adminPanel')">
                            <span>üëë</span> –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
                        </div>
                    </div>
                `;
            }
            html += `<button class="button button-outline mt-4" onclick="logout()">–í—ã–π—Ç–∏</button>`;
            container.innerHTML = html;
        }

        // ---------- –≠–∫—Ä–∞–Ω: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ----------
        function renderRegister(container) {
            container.innerHTML = `
                <form id="registerForm">
                    <div class="form-group">
                        <label>–§–ò–û (–§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ)</label>
                        <input type="text" id="fullName" placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á" required>
                    </div>
                    <div class="form-group">
                        <label>–î–æ–ª–∂–Ω–æ—Å—Ç—å</label>
                        <select id="position">
                            <option value="–ú–µ–Ω–µ–¥–∂–µ—Ä –¥–æ—Å—Ç–∞–≤–∫–∏">–ú–µ–Ω–µ–¥–∂–µ—Ä –¥–æ—Å—Ç–∞–≤–∫–∏</option>
                            <option value="–û–ø–µ—Ä–∞—Ç–æ—Ä –¥–æ—Å—Ç–∞–≤–∫–∏">–û–ø–µ—Ä–∞—Ç–æ—Ä –¥–æ—Å—Ç–∞–≤–∫–∏</option>
                            <option value="–ó–∞–º. –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞">–ó–∞–º. –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞</option>
                            <option value="–î–∏—Ä–µ–∫—Ç–æ—Ä">–î–∏—Ä–µ–∫—Ç–æ—Ä</option>
                            <option value="–¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∞–ª—å–Ω—ã–π —É–ø—Ä–∞–≤–ª—è—é—â–∏–π">–¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∞–ª—å–Ω—ã–π —É–ø—Ä–∞–≤–ª—è—é—â–∏–π</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>–†–µ—Å—Ç–æ—Ä–∞–Ω</label>
                        <select id="restaurant">
                            ${RESTAURANTS.map(r => `<option value="${r}">${r}</option>`).join('')}
                        </select>
                    </div>
                    <button type="submit" class="button">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                </form>
            `;
            document.getElementById('registerForm').addEventListener('submit', (e) => {
                e.preventDefault();
                const fullName = document.getElementById('fullName').value.trim();
                if (fullName.split(' ').length < 2) {
                    alert('–í–≤–µ–¥–∏—Ç–µ –º–∏–Ω–∏–º—É–º —Ñ–∞–º–∏–ª–∏—é –∏ –∏–º—è');
                    return;
                }
                const user = {
                    userId: Date.now(), // —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
                    fullName: fullName,
                    position: document.getElementById('position').value,
                    restaurant: document.getElementById('restaurant').value,
                    registered: new Date().toLocaleString()
                };
                saveUser(user);
                navigate('mainMenu');
            });
        }

        // ---------- –≠–∫—Ä–∞–Ω: –û—Ç–∫—Ä—ã—Ç–∏–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ (–ø–æ–¥–º–µ–Ω—é) ----------
        function renderRestaurantOpen(container) {
            container.innerHTML = `
                <div class="menu-grid">
                    <div class="menu-row">
                        <div class="menu-btn-large" onclick="navigate('vehicleList')">
                            <span>üöó</span> –ü—Ä–æ–≤–µ—Ä–∫–∞ –¢–°
                        </div>
                        <div class="menu-btn-large" onclick="navigate('deliveryBlocks')">
                            <span>üì¶</span> –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
                        </div>
                    </div>
                </div>
                <button class="button button-outline mt-4" onclick="navigate('mainMenu')">üîô –ù–∞–∑–∞–¥</button>
            `;
        }

        // ---------- –≠–∫—Ä–∞–Ω: –°–ø–∏—Å–æ–∫ –¢–° ----------
        function renderVehicleList(container) {
            const vehicles = getVehiclesForRestaurant();
            const checkedToday = getCheckedVehiclesToday();
            let html = `<p>–†–µ—Å—Ç–æ—Ä–∞–Ω: <strong>${currentUser.restaurant}</strong></p>`;
            vehicles.forEach(v => {
                const checked = checkedToday.includes(v.plate);
                html += `
                    <div class="list-item" onclick="selectVehicle('${v.plate}')">
                        <div>
                            <div class="list-item-title">${v.plate} (${v.model})</div>
                            <div class="list-item-sub">${checked ? '‚úÖ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ' : '‚è≥ –Ω–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ'}</div>
                        </div>
                        <span>‚û°Ô∏è</span>
                    </div>
                `;
            });
            html += `<button class="button button-outline mt-4" onclick="navigate('restaurantOpen')">üîô –ù–∞–∑–∞–¥</button>`;
            container.innerHTML = html;
        }

        window.selectVehicle = (plate) => {
            const vehicles = getVehiclesForRestaurant();
            currentVehicle = vehicles.find(v => v.plate === plate);
            // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –Ω–æ–≤–æ–≥–æ –¢–°
            vehiclePhotos = [null, null, null, null, null, null];
            vehicleChecklist = {};
            for (let i = 0; i < CHECK_POINTS.length; i++) {
                vehicleChecklist[i] = 'ok';
            }
            problemComments = {};
            problemPhotos = {};
            navigate('vehiclePhotos');
        };

        // ---------- –≠–∫—Ä–∞–Ω: –ó–∞–≥—Ä—É–∑–∫–∞ 6 —Ñ–æ—Ç–æ –¢–° ----------
        function renderVehiclePhotos(container) {
            const photoLabels = ['–í–∏–¥ —Å–ø–µ—Ä–µ–¥–∏', '–í–∏–¥ —Å–ø—Ä–∞–≤–∞', '–í–∏–¥ —Å–∑–∞–¥–∏', '–í–∏–¥ —Å–ª–µ–≤–∞', '–°–∞–ª–æ–Ω', '–ü—Ä–∏–±–æ—Ä–Ω–∞—è –ø–∞–Ω–µ–ª—å'];
            let html = `<p><strong>${currentVehicle.plate} (${currentVehicle.model})</strong></p>`;
            html += `<div class="photo-grid">`;
            for (let i = 0; i < 6; i++) {
                html += `
                    <div class="photo-item">
                        <div class="photo-label">${i+1}. ${photoLabels[i]}</div>
                        <input type="file" accept="image/*" capture="environment" id="photo${i}" onchange="handlePhoto(${i}, event)">
                        ${vehiclePhotos[i] ? `<img src="${vehiclePhotos[i]}" class="photo-preview">` : ''}
                    </div>
                `;
            }
            html += `</div>`;
            const allDone = vehiclePhotos.every(p => p !== null);
            html += `<button class="button" onclick="nextAfterPhotos()" ${!allDone ? 'disabled' : ''}>‚úÖ –î–∞–ª–µ–µ</button>`;
            html += `<button class="button button-outline mt-2" onclick="navigate('vehicleList')">üîô –ù–∞–∑–∞–¥</button>`;
            container.innerHTML = html;
        }

        window.handlePhoto = (index, event) => {
            const file = event.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = (e) => {
                const dataUrl = e.target.result;
                // –î–æ–±–∞–≤–ª—è–µ–º –≤–æ–¥—è–Ω–æ–π –∑–Ω–∞–∫ (–Ω–æ–º–µ—Ä –¢–° + –¥–∞—Ç–∞)
                addWatermark(dataUrl, `${currentVehicle.plate} ${new Date().toLocaleString()}`).then(watermarked => {
                    vehiclePhotos[index] = watermarked;
                    renderVehiclePhotos(document.getElementById('content'));
                });
            };
            reader.readAsDataURL(file);
        };

        // –§—É–Ω–∫—Ü–∏—è –Ω–∞–ª–æ–∂–µ–Ω–∏—è –≤–æ–¥—è–Ω–æ–≥–æ –∑–Ω–∞–∫–∞ (—á–µ—Ä–µ–∑ canvas)
        async function addWatermark(src, text) {
            return new Promise((resolve) => {
                const img = new Image();
                img.crossOrigin = 'Anonymous';
                img.onload = () => {
                    const canvas = document.createElement('canvas');
                    canvas.width = img.width;
                    canvas.height = img.height;
                    const ctx = canvas.getContext('2d');
                    ctx.drawImage(img, 0, 0);
                    ctx.font = 'bold 36px Arial';
                    ctx.fillStyle = 'rgba(255,255,255,0.7)';
                    ctx.strokeStyle = 'black';
                    ctx.lineWidth = 2;
                    const x = 20;
                    const y = canvas.height - 40;
                    ctx.strokeText(text, x, y);
                    ctx.fillText(text, x, y);
                    resolve(canvas.toDataURL('image/jpeg'));
                };
                img.src = src;
            });
        }

        window.nextAfterPhotos = () => {
            if (vehiclePhotos.every(p => p !== null)) {
                navigate('vehicleChecklist');
            } else {
                alert('–°–¥–µ–ª–∞–π—Ç–µ –≤—Å–µ 6 —Ñ–æ—Ç–æ');
            }
        };

        // ---------- –≠–∫—Ä–∞–Ω: –ß–µ–∫-–ª–∏—Å—Ç –¢–° ----------
        function renderVehicleChecklist(container) {
            let html = `<p><strong>${currentVehicle.plate}</strong></p>`;
            for (let i = 0; i < CHECK_POINTS.length; i++) {
                const status = vehicleChecklist[i];
                const statusClass = status === 'ok' ? 'ok' : 'problem';
                const statusText = status === 'ok' ? '‚úÖ' : '‚ùå';
                html += `
                    <div class="checklist-item">
                        <div class="status ${statusClass}" onclick="toggleChecklistPoint(${i})">${statusText}</div>
                        <div class="text">${i+1}. ${CHECK_POINTS[i]}</div>
                    </div>
                `;
                if (status === 'problem' && problemComments[i]) {
                    html += `<div class="comment-box">üí¨ ${problemComments[i]}</div>`;
                }
                if (status === 'problem' && problemPhotos[i]) {
                    html += `<img src="${problemPhotos[i]}" class="photo-preview" style="max-width:100px; margin-left:46px;">`;
                }
            }
            html += `<button class="button" onclick="completeChecklist()">üëå –û—Å–º–æ—Ç—Ä –ø—Ä–æ–≤–µ–¥–µ–Ω</button>`;
            html += `<button class="button button-outline mt-2" onclick="navigate('vehiclePhotos')">üîô –ù–∞–∑–∞–¥</button>`;
            container.innerHTML = html;
        }

        window.toggleChecklistPoint = (index) => {
            vehicleChecklist[index] = vehicleChecklist[index] === 'ok' ? 'problem' : 'ok';
            if (vehicleChecklist[index] === 'ok') {
                delete problemComments[index];
                delete problemPhotos[index];
            }
            renderVehicleChecklist(document.getElementById('content'));
        };

        window.completeChecklist = () => {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –ø—É–Ω–∫—Ç—ã –±–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤/—Ñ–æ—Ç–æ
            const problems = Object.entries(vehicleChecklist).filter(([idx, status]) => status === 'problem');
            if (problems.length > 0) {
                // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –ø–µ—Ä–≤–æ–º—É –ø—Ä–æ–±–ª–µ–º–Ω–æ–º—É –ø—É–Ω–∫—Ç—É –¥–ª—è –≤–≤–æ–¥–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
                currentProblemIndex = parseInt(problems[0][0]);
                navigate('vehicleProblemComment', currentProblemIndex);
            } else {
                // –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É
                finishVehicleCheck();
            }
        };

        // ---------- –≠–∫—Ä–∞–Ω: –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –ø—Ä–æ–±–ª–µ–º–µ ----------
        function renderProblemComment(container, index) {
            container.innerHTML = `
                <p><strong>–ü—É–Ω–∫—Ç ${index+1}: ${CHECK_POINTS[index]}</strong></p>
                <textarea id="problemComment" placeholder="–û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É..." rows="4">${problemComments[index] || ''}</textarea>
                <button class="button" onclick="saveProblemComment(${index})">–î–∞–ª–µ–µ</button>
                <button class="button button-outline mt-2" onclick="navigate('vehicleChecklist')">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
            `;
        }

        window.saveProblemComment = (index) => {
            const comment = document.getElementById('problemComment').value.trim();
            if (comment) {
                problemComments[index] = comment;
                // –ü–æ—Å–ª–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è ‚Äî –∑–∞–ø—Ä–æ—Å —Ñ–æ—Ç–æ –ø—Ä–æ–±–ª–µ–º—ã
                navigate('vehicleProblemPhoto', index);
            } else {
                alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π');
            }
        };

        // ---------- –≠–∫—Ä–∞–Ω: –§–æ—Ç–æ –ø—Ä–æ–±–ª–µ–º—ã ----------
        function renderProblemPhoto(container, index) {
            container.innerHTML = `
                <p><strong>–ü—É–Ω–∫—Ç ${index+1}: ${CHECK_POINTS[index]}</strong></p>
                <div class="photo-item">
                    <input type="file" accept="image/*" capture="environment" id="problemPhoto" onchange="handleProblemPhoto(${index}, event)">
                    ${problemPhotos[index] ? `<img src="${problemPhotos[index]}" class="photo-preview">` : ''}
                </div>
                <button class="button" onclick="nextProblem(${index})">–î–∞–ª–µ–µ</button>
                <button class="button button-outline mt-2" onclick="skipProblemPhoto(${index})">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ñ–æ—Ç–æ</button>
                <button class="button button-outline mt-2" onclick="navigate('vehicleChecklist')">–ù–∞–∑–∞–¥ –∫ —á–µ–∫-–ª–∏—Å—Ç—É</button>
            `;
        }

        window.handleProblemPhoto = (index, event) => {
            const file = event.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = (e) => {
                addWatermark(e.target.result, `${currentVehicle.plate} –ø—Ä–æ–±–ª–µ–º–∞ –ø.${index+1} ${new Date().toLocaleString()}`).then(watermarked => {
                    problemPhotos[index] = watermarked;
                    renderProblemPhoto(document.getElementById('content'), index);
                });
            };
            reader.readAsDataURL(file);
        };

        window.skipProblemPhoto = (index) => {
            problemPhotos[index] = null;
            nextProblem(index);
        };

        window.nextProblem = (index) => {
            // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –ø—Ä–æ–±–ª–µ–º–Ω–æ–º—É –ø—É–Ω–∫—Ç—É
            const problems = Object.entries(vehicleChecklist).filter(([idx, status]) => status === 'problem' && parseInt(idx) > index);
            if (problems.length > 0) {
                currentProblemIndex = parseInt(problems[0][0]);
                navigate('vehicleProblemComment', currentProblemIndex);
            } else {
                // –í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã
                finishVehicleCheck();
            }
        };

        function finishVehicleCheck() {
            markVehicleChecked(currentVehicle.plate);
            alert(`–¢–° ${currentVehicle.plate} –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ!`);
            if (allVehiclesChecked()) {
                alert('–í—Å–µ –¢–° —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã —Å–µ–≥–æ–¥–Ω—è! –û—Ç—á—ë—Ç —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω.');
                // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç
            }
            navigate('vehicleList');
        }

        // ---------- –≠–∫—Ä–∞–Ω: –°–ø–∏—Å–æ–∫ –±–ª–æ–∫–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏ ----------
        function renderDeliveryBlocks(container) {
            const checked = getCheckedDeliveryBlocks();
            let html = `<p>–†–µ—Å—Ç–æ—Ä–∞–Ω: <strong>${currentUser.restaurant}</strong></p>`;
            DELIVERY_BLOCKS.forEach((block, idx) => {
                const isChecked = checked.includes(block.name);
                html += `
                    <div class="list-item" onclick="selectDeliveryBlock(${idx})">
                        <div>
                            <div class="list-item-title">${block.name}</div>
                            <div class="list-item-sub">${block.points} –ø—É–Ω–∫—Ç–æ–≤ ${isChecked ? '‚úÖ' : ''}</div>
                        </div>
                        <span>‚û°Ô∏è</span>
                    </div>
                `;
            });
            html += `<button class="button button-outline mt-4" onclick="navigate('restaurantOpen')">üîô –ù–∞–∑–∞–¥</button>`;
            container.innerHTML = html;
        }

        window.selectDeliveryBlock = (idx) => {
            currentDeliveryBlockIndex = idx;
            currentDeliveryPoint = 0;
            navigate('deliveryBlockDetail', idx);
        };

        // ---------- –≠–∫—Ä–∞–Ω: –î–µ—Ç–∞–ª–∏ –±–ª–æ–∫–∞ (–ø–æ –ø—É–Ω–∫—Ç–∞–º) ----------
        function renderDeliveryBlockDetail(container, idx) {
            const block = DELIVERY_BLOCKS[idx];
            const pointIndex = currentDeliveryPoint;
            if (pointIndex >= block.points) {
                // –í—Å–µ –ø—É–Ω–∫—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã ‚Äî –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
                navigate('deliveryComment', idx);
                return;
            }
            container.innerHTML = `
                <p><strong>${block.name}</strong></p>
                <p>–ü—É–Ω–∫—Ç ${pointIndex+1} –∏–∑ ${block.points}</p>
                <p style="margin: 20px 0;">${getDeliveryPointText(block.name, pointIndex)}</p>
                <button class="button" onclick="nextDeliveryPoint()">‚úÖ –î–∞–ª–µ–µ</button>
                <button class="button button-outline mt-2" onclick="navigate('deliveryBlocks')">üîô –ù–∞–∑–∞–¥</button>
            `;
        }

        // –ò–º–∏—Ç–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –ø—É–Ω–∫—Ç–æ–≤ (–º–æ–∂–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç—å –∏–∑ –±–ª–æ–∫–∞)
        function getDeliveryPointText(blockName, pointIndex) {
            // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç, –¥–ª—è –¥–µ–º–æ ‚Äî –∑–∞–≥–ª—É—à–∫–∞
            return `–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É–Ω–∫—Ç ${pointIndex+1} –≤ –±–ª–æ–∫–µ "${blockName}"`;
        }

        window.nextDeliveryPoint = () => {
            currentDeliveryPoint++;
            navigate('deliveryBlockDetail', currentDeliveryBlockIndex);
        };

        // ---------- –≠–∫—Ä–∞–Ω: –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –±–ª–æ–∫—É –¥–æ—Å—Ç–∞–≤–∫–∏ ----------
        function renderDeliveryComment(container, idx) {
            const block = DELIVERY_BLOCKS[idx];
            container.innerHTML = `
                <p><strong>${block.name}</strong></p>
                <textarea id="deliveryComment" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π" rows="4"></textarea>
                <button class="button" onclick="completeDeliveryBlock(${idx})">‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –±–ª–æ–∫</button>
                <button class="button button-outline mt-2" onclick="navigate('deliveryBlocks')">üîô –ù–∞–∑–∞–¥</button>
            `;
        }

        window.completeDeliveryBlock = (idx) => {
            const block = DELIVERY_BLOCKS[idx];
            const comment = document.getElementById('deliveryComment').value.trim() || '–ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è';
            markDeliveryBlockChecked(block.name);
            alert(`–ë–ª–æ–∫ "${block.name}" –∑–∞–≤–µ—Ä—à—ë–Ω. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: ${comment}`);
            if (allDeliveryBlocksChecked()) {
                alert('–í—Å–µ –±–ª–æ–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã! –û—Ç—á—ë—Ç –≥–æ—Ç–æ–≤.');
            }
            navigate('deliveryBlocks');
        };

        // ---------- –≠–∫—Ä–∞–Ω: –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π (—É–ø—Ä–æ—â—ë–Ω–Ω–æ) ----------
        function renderKnowledgeBase(container) {
            container.innerHTML = `
                <div class="form-group">
                    <input type="text" id="searchInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å...">
                </div>
                <button class="button" onclick="searchKnowledge()">üîç –ü–æ–∏—Å–∫</button>
                <div id="searchResults" style="margin-top: 20px;"></div>
                <button class="button button-outline mt-4" onclick="navigate('mainMenu')">üîô –ù–∞–∑–∞–¥</button>
            `;
        }

        window.searchKnowledge = () => {
            const query = document.getElementById('searchInput').value.trim();
            const resultsDiv = document.getElementById('searchResults');
            if (!query) {
                resultsDiv.innerHTML = '<p>–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å</p>';
                return;
            }
            resultsDiv.innerHTML = `
                <div class="list-item" onclick="alert('–°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞...')">
                    <div>üìÑ –°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–æ—Å—Ç–∞–≤–∫–∏ (–≤–µ—Ä—Å–∏—è 2.1)</div>
                </div>
                <div class="list-item" onclick="alert('–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏...')">
                    <div>üìÑ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ –¢–°</div>
                </div>
            `;
        };

        // ---------- –≠–∫—Ä–∞–Ω: –ü—Ä–æ—Ñ–∏–ª—å ----------
        function renderProfile(container) {
            container.innerHTML = `
                <p><strong>–§–ò–û:</strong> ${currentUser.fullName}</p>
                <p><strong>–î–æ–ª–∂–Ω–æ—Å—Ç—å:</strong> ${currentUser.position}</p>
                <p><strong>–†–µ—Å—Ç–æ—Ä–∞–Ω:</strong> ${currentUser.restaurant}</p>
                <p><strong>ID:</strong> ${currentUser.userId}</p>
                <p><strong>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</strong> ${currentUser.registered || '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}</p>
                <button class="button button-outline mt-4" onclick="navigate('mainMenu')">üîô –ù–∞–∑–∞–¥</button>
            `;
        }

        // ---------- –≠–∫—Ä–∞–Ω: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ----------
        function renderSupport(container) {
            container.innerHTML = `
                <textarea id="supportMsg" placeholder="–û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É..." rows="4"></textarea>
                <button class="button mt-2" onclick="sendSupport()">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                <button class="button button-outline mt-2" onclick="navigate('mainMenu')">üîô –ù–∞–∑–∞–¥</button>
            `;
        }

        window.sendSupport = () => {
            const msg = document.getElementById('supportMsg').value.trim();
            if (msg) {
                alert('–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.');
                document.getElementById('supportMsg').value = '';
            } else {
                alert('–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ');
            }
        };

        // ---------- –≠–∫—Ä–∞–Ω: –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å (—É–ø—Ä–æ—â—ë–Ω–Ω–æ) ----------
        function renderAdminPanel(container) {
            container.innerHTML = `
                <p><strong>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:</strong></p>
                <p>–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: 1 (—Ç–µ–∫—É—â–∏–π)</p>
                <div class="list-item" onclick="alert('–£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–µ–º–æ)')">
                    <span>üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</span>
                </div>
                <div class="list-item" onclick="alert('–†–∞—Å—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è (–¥–µ–º–æ)')">
                    <span>üì¢ –°–¥–µ–ª–∞—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É</span>
                </div>
                <button class="button button-outline mt-4" onclick="navigate('mainMenu')">üîô –ù–∞–∑–∞–¥</button>
            `;
        }

        // ---------- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ ----------
        document.getElementById('backBtn').addEventListener('click', () => {
            // –ü—Ä–æ—Å—Ç–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞–∑–∞–¥ (–º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å)
            if (currentScreen === 'vehiclePhotos') navigate('vehicleList');
            else if (currentScreen === 'vehicleChecklist') navigate('vehiclePhotos');
            else if (currentScreen === 'vehicleProblemComment' || currentScreen === 'vehicleProblemPhoto') navigate('vehicleChecklist');
            else if (currentScreen === 'deliveryBlockDetail') navigate('deliveryBlocks');
            else if (currentScreen === 'deliveryComment') navigate('deliveryBlocks');
            else if (currentScreen === 'deliveryBlocks') navigate('restaurantOpen');
            else if (currentScreen === 'restaurantOpen') navigate('mainMenu');
            else if (currentScreen === 'knowledgeBase') navigate('mainMenu');
            else if (currentScreen === 'profile') navigate('mainMenu');
            else if (currentScreen === 'support') navigate('mainMenu');
            else if (currentScreen === 'adminPanel') navigate('mainMenu');
            else navigate('mainMenu');
        });

        document.getElementById('menuBtn').addEventListener('click', () => {
            navigate('mainMenu');
        });

        // –°—Ç–∞—Ä—Ç
        loadUser();
        navigate('mainMenu');
    </script>
</body>
</html>
